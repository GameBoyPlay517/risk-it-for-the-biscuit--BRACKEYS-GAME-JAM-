[gd_scene load_steps=9 format=3 uid="uid://bwhe0sn3qlaf"]

[ext_resource type="Script" uid="uid://cy1e7st17qfwd" path="res://mesh_instance_3d.gd" id="1_etjlb"]
[ext_resource type="PackedScene" uid="uid://htwbng3ynpbs" path="res://player.tscn" id="2_aq2ne"]
[ext_resource type="PackedScene" uid="uid://cee6cniju8xo7" path="res://scenes/npc.tscn" id="4_gw35f"]
[ext_resource type="PackedScene" uid="uid://b6jtcq1p36c4l" path="res://world.tscn" id="5_hbm4x"]

[sub_resource type="NavigationMesh" id="NavigationMesh_gw35f"]
vertices = PackedVector3Array(-17.701, 2.87363, -9.43733, -17.701, 2.87363, 1.81267, 35.299, 2.87363, 1.81267, 35.299, 2.87363, -9.43733, -9.45098, -1.12637, -3.93733, -8.70098, -1.12637, -3.93733, -8.45098, -1.12637, -4.68733, -9.70098, -1.12637, -4.68733, -17.451, -1.12637, -9.18733, -17.451, -1.12637, -4.68733, -6.95098, -1.12637, -9.18733, -6.95098, -1.12637, -4.68733, 19.049, -1.12637, -2.43733, 19.799, -1.12637, -2.68733, 19.299, -1.12637, -3.18733, 19.299, -1.12637, -4.68733, 19.799, -1.12637, -5.18733, 19.049, -1.12637, -5.43733, 17.049, -1.12637, -9.18733, 16.549, -1.12637, -9.18733, 16.299, -1.12637, -8.18733, 17.049, -1.12637, -7.43733, 18.049, -1.12637, -0.437327, 18.299, -1.12637, -1.43733, 17.299, -1.12637, -1.18733, 17.049, -1.12637, -0.187327, 16.049, -1.12637, -6.68733, 16.799, -1.12637, -5.68733, 17.299, -1.12637, -6.43733, 16.799, -1.12637, -2.18733, 16.049, -1.12637, -0.937327, 10.799, -1.12637, -8.18733, 11.299, -1.12637, -6.93733, 12.049, -1.12637, -6.93733, 18.049, -1.12637, -6.43733, 14.049, -1.12637, -1.93733, 12.549, -1.12637, -1.93733, 12.299, -1.12637, -0.937327, 14.549, -1.12637, -0.937327, 15.049, -1.12637, -8.18733, 12.549, -1.12637, -5.93733, 14.049, -1.12637, -5.93733, 19.049, -1.12637, -1.68733, 10.799, -1.12637, -0.937327, 10.299, -1.12637, 0.562673, 10.799, -1.12637, 1.31267, 14.549, -1.12637, -6.93733, 14.799, -1.12637, -9.18733, 10.799, -1.12637, -9.18733, 17.049, -1.12637, 1.31267, 24.049, -1.12637, 0.0626726, 24.549, -1.12637, -0.187327, 22.299, -1.12637, -1.93733, 22.049, -1.12637, -1.43733, 18.049, -1.12637, -7.18733, 20.049, -1.12637, -6.68733, 20.049, -1.12637, -9.18733, 18.299, -1.12637, -9.18733, 19.049, -1.12637, -6.43733, 18.299, -1.12637, 1.31267, 24.049, -1.12637, 1.31267, 29.049, -1.12637, -2.18733, 29.549, -1.12637, -2.43733, 29.549, -1.12637, -3.18733, 29.049, -1.12637, -3.43733, 29.049, -1.12637, 0.0626726, 24.299, -1.12637, -9.18733, 22.299, -1.12637, -6.43733, 24.549, -1.12637, -7.93733, 29.049, -1.12637, -7.93733, 30.299, -1.12637, -2.18733, 30.299, -1.12637, -3.43733, 35.049, -1.12637, -9.18733, 30.299, -1.12637, -9.18733, 35.049, -1.12637, 1.31267, 30.299, -1.12637, 1.31267, 4.04902, -1.12637, -7.93733, 3.29902, -1.12637, -7.93733, 2.79902, -1.12637, -7.18733, 3.29902, -1.12637, -5.93733, 4.79902, -1.12637, -5.93733, 5.04902, -1.12637, -6.93733, 10.549, -1.12637, -1.93733, 9.54902, -1.12637, -2.18733, 6.54902, -1.12637, -6.93733, 6.79902, -1.12637, -5.93733, 7.79902, -1.12637, -5.68733, 7.79902, -1.12637, -2.18733, 7.04902, -1.12637, -1.93733, 6.54902, -1.12637, -0.937327, 6.04902, -1.12637, -7.93733, 4.29902, -1.12637, -8.43733, 5.04902, -1.12637, -0.937327, 3.04902, -1.12637, -0.937327, 2.29902, -1.12637, -0.687327, 2.29902, -1.12637, 1.31267, 5.54902, -1.12637, 1.31267, 5.79902, -1.12637, 0.562673, 4.79902, -1.12637, -1.93733, 3.29902, -1.12637, -1.93733, 9.54902, -1.12637, -5.68733, 1.29902, -1.12637, -6.68733, 2.04902, -1.12637, -6.68733, 1.04902, -1.12637, -7.18733, -6.45098, -1.12637, -1.18733, -6.95098, -1.12637, -0.187327, -5.70098, -1.12637, -0.437327, -5.70098, -1.12637, -1.18733, 0.049015, -1.12637, -5.68733, -0.450985, -1.12637, -6.93733, -1.95098, -1.12637, -6.93733, -1.45098, -1.12637, -5.43733, 1.04902, -1.12637, -5.93733, -0.200985, -1.12637, -7.93733, 1.04902, -1.12637, -1.18733, 1.04902, -1.12637, -1.93733, 0.049015, -1.12637, -2.18733, -1.45098, -1.12637, -2.43733, 1.04902, -1.12637, -7.93733, -5.45098, -1.12637, -2.18733, -3.95098, -1.12637, -6.93733, -5.45098, -1.12637, -5.93733, -5.45098, -1.12637, 1.31267, -2.45098, -1.12637, -7.93733, -3.45098, -1.12637, -7.93733, -5.45098, -1.12637, -7.18733, 1.79902, -0.376366, -5.18733, 2.54902, -0.376366, -4.93733, 2.29902, -0.376366, -5.43733, -5.45098, 0.873634, -4.68733, -5.45098, 0.873634, -3.18733, -2.45098, 0.873634, -3.18733, -2.45098, 0.873634, -4.68733, -7.45098, -1.12637, -0.937327, -6.95098, -1.12637, -1.43733, -11.951, -1.12637, -0.937327, -10.451, -1.12637, -0.937327, -9.70098, -1.12637, -3.18733, -8.45098, -1.12637, -3.18733, -17.451, -1.12637, -3.18733, -14.951, -1.12637, -0.937327, -13.451, -1.12637, -0.937327, -13.201, -1.12637, -0.187327, -12.201, -1.12637, -0.187327, -10.201, -1.12637, -0.187327, -9.20098, -1.12637, -0.187327, -8.95098, -1.12637, -0.937327, -17.451, -1.12637, -0.187327, -15.451, -1.12637, -0.187327, -6.95098, -1.12637, -3.18733, 25.049, 0.873634, 0.812673, 25.049, 0.873634, 1.31267, 28.049, 0.873634, 1.31267)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(4, 7, 5), PackedInt32Array(5, 7, 6), PackedInt32Array(9, 8, 7), PackedInt32Array(7, 8, 10), PackedInt32Array(10, 11, 6), PackedInt32Array(10, 6, 7), PackedInt32Array(14, 13, 12), PackedInt32Array(17, 16, 15), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(25, 30, 24), PackedInt32Array(24, 30, 29), PackedInt32Array(33, 32, 31), PackedInt32Array(34, 28, 26), PackedInt32Array(36, 35, 37), PackedInt32Array(37, 35, 38), PackedInt32Array(39, 20, 21), PackedInt32Array(41, 40, 33), PackedInt32Array(23, 12, 42), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 37), PackedInt32Array(12, 23, 14), PackedInt32Array(14, 23, 15), PackedInt32Array(15, 23, 34), PackedInt32Array(31, 48, 33), PackedInt32Array(33, 48, 41), PackedInt32Array(41, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(25, 49, 30), PackedInt32Array(30, 49, 38), PackedInt32Array(53, 52, 50), PackedInt32Array(50, 52, 51), PackedInt32Array(37, 38, 45), PackedInt32Array(45, 38, 49), PackedInt32Array(54, 34, 21), PackedInt32Array(58, 54, 55), PackedInt32Array(55, 54, 57), PackedInt32Array(55, 57, 56), PackedInt32Array(59, 22, 23), PackedInt32Array(46, 47, 39), PackedInt32Array(54, 58, 17), PackedInt32Array(54, 17, 34), PackedInt32Array(34, 17, 15), PackedInt32Array(23, 42, 59), PackedInt32Array(59, 42, 53), PackedInt32Array(59, 53, 50), PackedInt32Array(59, 50, 60), PackedInt32Array(46, 39, 26), PackedInt32Array(26, 39, 21), PackedInt32Array(26, 21, 34), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 64), PackedInt32Array(64, 61, 51), PackedInt32Array(61, 65, 51), PackedInt32Array(68, 67, 66), PackedInt32Array(66, 67, 55), PackedInt32Array(66, 55, 56), PackedInt32Array(67, 68, 52), PackedInt32Array(52, 68, 51), PackedInt32Array(51, 68, 64), PackedInt32Array(64, 68, 69), PackedInt32Array(63, 71, 62), PackedInt32Array(62, 71, 70), PackedInt32Array(73, 72, 71), PackedInt32Array(71, 72, 74), PackedInt32Array(74, 75, 70), PackedInt32Array(74, 70, 71), PackedInt32Array(77, 76, 78), PackedInt32Array(78, 76, 79), PackedInt32Array(79, 76, 81), PackedInt32Array(79, 81, 80), PackedInt32Array(82, 43, 83), PackedInt32Array(85, 84, 86), PackedInt32Array(89, 88, 87), PackedInt32Array(76, 91, 81), PackedInt32Array(81, 91, 90), PackedInt32Array(81, 90, 84), PackedInt32Array(97, 96, 92), PackedInt32Array(92, 96, 93), PackedInt32Array(93, 96, 94), PackedInt32Array(94, 96, 95), PackedInt32Array(98, 92, 99), PackedInt32Array(99, 92, 93), PackedInt32Array(43, 44, 83), PackedInt32Array(83, 44, 87), PackedInt32Array(87, 44, 89), PackedInt32Array(89, 44, 97), PackedInt32Array(97, 92, 89), PackedInt32Array(87, 86, 83), PackedInt32Array(83, 86, 100), PackedInt32Array(84, 90, 86), PackedInt32Array(86, 90, 100), PackedInt32Array(100, 90, 32), PackedInt32Array(32, 90, 31), PackedInt32Array(103, 102, 101), PackedInt32Array(107, 106, 104), PackedInt32Array(104, 106, 105), PackedInt32Array(108, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(101, 112, 103), PackedInt32Array(103, 112, 108), PackedInt32Array(103, 108, 109), PackedInt32Array(103, 109, 113), PackedInt32Array(115, 114, 116), PackedInt32Array(116, 114, 117), PackedInt32Array(113, 118, 103), PackedInt32Array(114, 94, 95), PackedInt32Array(106, 107, 119), PackedInt32Array(110, 111, 120), PackedInt32Array(120, 111, 121), PackedInt32Array(106, 119, 122), PackedInt32Array(122, 119, 117), PackedInt32Array(122, 117, 114), PackedInt32Array(122, 114, 95), PackedInt32Array(123, 110, 124), PackedInt32Array(124, 110, 120), PackedInt32Array(121, 125, 120), PackedInt32Array(117, 111, 116), PackedInt32Array(116, 111, 108), PackedInt32Array(128, 127, 126), PackedInt32Array(132, 131, 129), PackedInt32Array(129, 131, 130), PackedInt32Array(134, 104, 133), PackedInt32Array(133, 104, 105), PackedInt32Array(137, 136, 135), PackedInt32Array(5, 138, 4), PackedInt32Array(4, 138, 137), PackedInt32Array(140, 139, 141), PackedInt32Array(141, 139, 137), PackedInt32Array(142, 141, 143), PackedInt32Array(143, 141, 135), PackedInt32Array(144, 136, 145), PackedInt32Array(145, 136, 146), PackedInt32Array(146, 136, 137), PackedInt32Array(146, 137, 138), PackedInt32Array(137, 135, 141), PackedInt32Array(148, 147, 140), PackedInt32Array(140, 147, 139), PackedInt32Array(133, 146, 134), PackedInt32Array(134, 146, 138), PackedInt32Array(134, 138, 149), PackedInt32Array(152, 151, 150)]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6xxru"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_yvhtj"]
sky_material = SubResource("ProceduralSkyMaterial_6xxru")

[sub_resource type="Environment" id="Environment_aq2ne"]
background_mode = 2
sky = SubResource("Sky_yvhtj")
tonemap_mode = 2
glow_enabled = true

[node name="Main" type="Node3D"]
script = ExtResource("1_etjlb")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.813307, 5.75098, 5.08354)
navigation_mesh = SubResource("NavigationMesh_gw35f")

[node name="Node3D" parent="NavigationRegion3D" instance=ExtResource("5_hbm4x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.1975, -1.47298, -3.95644)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_aq2ne")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("2_aq2ne")]
transform = Transform3D(0.75, 0, 0, 0, 0.75, 0, 0, 0, 0.75, 31.554, 5.08407, -1.9702)

[node name="NPC" parent="." instance=ExtResource("4_gw35f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.813307, 5.39405, 5.08354)
collision_mask = 5

[connection signal="hit" from="Player" to="." method="_on_player_hit"]
